<html>
  <div>
    5. Write a JavaScript program to convert an array of objects to a
    comma-separated values (CSV) string that contains only the columns
    specified.
  </div>
  <script>
    const objectToCsv = function (data) {
      const csvRows = [];
      const headers = Object.keys(data[0]);
      csvRows.push(headers.join(","));
      for (const row of data) {
        const values = headers.map((header) => {
          const val = row[header];
          return `"${val}"`;
        });

        // To add, sepearater between each value
        csvRows.push(values.join(","));
      }
      return csvRows.join("\n");
    };
    const data = [
      {
        firstname: "geeks",
        lastname: "org",
        age: 12,
      },
      {
        firstname: "devendra",
        lastname: "salunke",
        age: 31,
      },
      {
        firstname: "virat",
        lastname: "kohli",
        age: 34,
      },
    ];

    const csvData = objectToCsv(data);
    console.log(csvData);
  </script>
</html>
